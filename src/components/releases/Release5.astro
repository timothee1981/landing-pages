---
/**
 * Release5 - Vinyl/CD Visual
 * Elegant vinyl record aesthetic
 * Best for: Classical, Jazz, Elegant artists
 */

interface Props {
  releaseTitle: string;
  artistName: string;
  releaseYear?: string;
  trackList?: string[];
  coverImage?: string;
  spotifyUrl?: string;
  description?: string;
}

const {
  releaseTitle,
  artistName,
  releaseYear = "2024",
  trackList = [
    "Overture",
    "Movement I: Awakening",
    "Movement II: Journey",
    "Interlude",
    "Movement III: Resolution",
    "Finale",
  ],
  coverImage = "/landing/images/album-cover.jpg",
  spotifyUrl = "#",
  description,
} = Astro.props;
---

<section id="featured-release" class="section bg-slate-950 overflow-hidden">
  <div class="container-wide">
    <div class="grid lg:grid-cols-2 gap-16 items-center">
      <!-- Vinyl visualization -->
      <div class="relative flex items-center justify-center py-10">
        <!-- Vinyl record -->
        <div
          class="absolute w-[90%] aspect-square rounded-full bg-gradient-to-br from-slate-800 to-slate-900 shadow-2xl vinyl-record"
        >
          <!-- Grooves -->
          <div
            class="absolute inset-[5%] rounded-full border border-slate-700/30"
          >
          </div>
          <div
            class="absolute inset-[15%] rounded-full border border-slate-700/20"
          >
          </div>
          <div
            class="absolute inset-[25%] rounded-full border border-slate-700/20"
          >
          </div>
          <div
            class="absolute inset-[35%] rounded-full border border-slate-700/10"
          >
          </div>
          <!-- Label -->
          <div
            class="absolute inset-[40%] rounded-full bg-gradient-to-br from-amber-600 to-amber-700 flex items-center justify-center"
          >
            <span
              class="text-amber-50 text-xs font-semibold tracking-wider text-center leading-tight px-2"
            >
              {artistName.split(" ")[0]}
            </span>
          </div>
          <!-- Shine effect -->
          <div
            class="absolute inset-0 rounded-full bg-gradient-to-br from-white/5 via-transparent to-transparent"
          >
          </div>
        </div>

        <!-- Album sleeve -->
        <div
          class="relative w-3/4 aspect-square shadow-2xl transform -rotate-3 hover:rotate-0 transition-transform duration-700 z-10"
        >
          <div class="absolute inset-0 border border-amber-500/10"></div>
          <img
            src={coverImage}
            alt={releaseTitle}
            class="w-full h-full object-cover"
          />
          <!-- Sleeve edge -->
          <div
            class="absolute -right-2 top-0 bottom-0 w-4 bg-gradient-to-r from-stone-700 to-stone-800 border-y border-r border-stone-600"
          >
          </div>
        </div>
      </div>

      <!-- Release info -->
      <div>
        <div class="mb-8">
          <span class="text-amber-500 text-sm tracking-widest uppercase"
            >New Release</span
          >
          <h2 class="font-display text-4xl sm:text-5xl text-amber-50 mt-4 mb-2">
            {releaseTitle}
          </h2>
          <p class="text-slate-400">by {artistName} â€¢ {releaseYear}</p>
        </div>

        {
          description && (
            <p class="text-slate-400 leading-relaxed mb-8 font-display italic">
              "{description}"
            </p>
          )
        }

        <!-- Track list -->
        <div class="mb-10">
          <h3 class="text-sm text-amber-500/70 uppercase tracking-wider mb-4">
            Track List
          </h3>
          <ol class="space-y-3">
            {
              trackList.map((track, index) => (
                <li class="flex items-center gap-4 group">
                  <span class="w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center text-xs text-slate-500 group-hover:bg-amber-600 group-hover:text-amber-50 transition-colors">
                    {String(index + 1).padStart(2, "0")}
                  </span>
                  <span class="text-slate-300 group-hover:text-amber-50 transition-colors">
                    {track}
                  </span>
                </li>
              ))
            }
          </ol>
        </div>

        <!-- CTA buttons -->
        <div class="flex flex-wrap gap-4">
          <a
            href={spotifyUrl}
            target="_blank"
            rel="noopener noreferrer"
            class="btn-primary bg-amber-500 hover:bg-amber-400 text-slate-900"
          >
            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
              <path d="M8 5v14l11-7z"></path>
            </svg>
            Listen Now
          </a>
          <button
            class="btn-secondary border-amber-500/30 text-amber-500 hover:bg-amber-500/10"
          >
            <svg
              class="w-5 h-5 mr-2"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
              ></path>
            </svg>
            Pre-Order Vinyl
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .vinyl-record {
    animation: spin 20s linear infinite;
    animation-play-state: paused;
  }

  section:hover .vinyl-record {
    animation-play-state: running;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
</style>
